{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/OwnAppointments.vue?94b5","webpack:///./src/App.vue?cf49","webpack:///./src/services/api/ApiModel.js","webpack:///./src/components/LoginPage.vue?be9e","webpack:///./src/services/api/models/users.js","webpack:///src/components/LoginPage.vue","webpack:///./src/components/LoginPage.vue?4885","webpack:///./src/components/LoginPage.vue","webpack:///./src/components/Signup.vue?ed6f","webpack:///src/components/Signup.vue","webpack:///./src/components/Signup.vue?e399","webpack:///./src/components/Signup.vue","webpack:///./src/components/AppointmentsPage.vue?6993","webpack:///./src/components/Profile.vue?356c","webpack:///src/components/Profile.vue","webpack:///./src/components/Profile.vue?ab14","webpack:///./src/components/Profile.vue","webpack:///./src/components/OwnAppointments.vue?12ca","webpack:///./src/services/api/models/appointments.js","webpack:///src/components/OwnAppointments.vue","webpack:///./src/components/OwnAppointments.vue?05e4","webpack:///./src/components/OwnAppointments.vue?0e0a","webpack:///./src/components/DoctorSchedule.vue?1cfb","webpack:///./src/services/api/models/times.js","webpack:///./src/services/api/models/doctors.js","webpack:///src/components/DoctorSchedule.vue","webpack:///./src/components/DoctorSchedule.vue?e832","webpack:///./src/components/DoctorSchedule.vue","webpack:///./src/components/CalendarAppointments.vue?5a4d","webpack:///./src/components/AppointmentsTable.vue?9757","webpack:///src/components/AppointmentsTable.vue","webpack:///./src/components/AppointmentsTable.vue?8151","webpack:///./src/components/AppointmentsTable.vue?f524","webpack:///src/components/CalendarAppointments.vue","webpack:///./src/components/CalendarAppointments.vue?0f79","webpack:///./src/components/CalendarAppointments.vue","webpack:///src/components/AppointmentsPage.vue","webpack:///./src/components/AppointmentsPage.vue?67e2","webpack:///./src/components/AppointmentsPage.vue","webpack:///./src/routes.js","webpack:///./src/components/Header.vue?9631","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?4c35","webpack:///./src/components/Header.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/AppointmentsTable.vue?9a22"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","ApiModel","_buildUrl","_buildUrlWithParams","undefined","getModelRequest","TypeError","modelRequest","modelBaseUrl","params","insertSlash","url","keys","forEach","method","body","fetch","JSON","stringify","headers","authToken","response","ok","status","json","console","log","doRequest","Error","token","currentUserId","user","_id","localStorage","setItem","removeItem","getItem","loadAuthToken","_v","model","callback","$$v","loginEmail","expression","loginPassword","on","login","UsersModel","id","getAllUsers","getUserById","signupUser","loginUser","resultUrl","initialModelBaseUrl","username","email","password","post","errors","alert","event","preventDefault","component","signup","refreshTrigger","doctor","_e","refreshOwnAppointments","_s","Date","createdAt","getUTCDate","getUTCMonth","getYear","getUTCHours","getUTCMinutes","isDoctor","_l","appointment","index","clientProfile","doctorUser","doctorProfile","speciality","date","$event","deleteAppointment","appointments","AppointmentsModel","getAllAppointments","getAppointmentById","createAppointment","updateAppointment","searchAppointments","client","time","delete","times","_m","dayTimes","day","timeId","timeIndex","formattedTimes","hours","minutes","deleteDayTime","timesOptions","selectedTimes","$set","addDayTime","TimesModel","getllTimes","getAllTimes","DoctorsModel","updateDoctorProfile","put","this$1","loadNextWeekDatesAndAppointments","doctorsOptions","refreshData","selectedDoctor","selectedDateText","selectedDate","submitAppointment","fromDate","toDate","selectedDoctorProfile","tableHeaderDays","filteredDayTimes","toISOString","$emit","path","redirect","AppointmentsPage","meta","public","LoginPage","Signup","isUser","logout","components","router","Vue","use","BootstrapVue","VueRouter","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.629c9e52.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnAppointments.vue?vue&type=style&index=0&id=edc53856&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnAppointments.vue?vue&type=style&index=0&id=edc53856&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('b-container',{staticClass:\"h-100 d-flex flex-column px-0\",attrs:{\"fluid\":\"\"}},[_c('Header'),_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @class\r\n */\r\nexport class ApiModel {\r\n    static authToken;\r\n    static currentUserId;\r\n\r\n    modelBaseUrl;\r\n    modelRequest;\r\n\r\n    constructor() {\r\n        this._buildUrl = this._buildUrl.bind(this);\r\n        this._buildUrlWithParams = this._buildUrlWithParams.bind(this);\r\n\r\n        if(this.getModelRequest === undefined) {\r\n            throw new TypeError('getModelRequest must be implemented in the derived class');\r\n        } else {\r\n            this.modelRequest = this.getModelRequest();\r\n        }\r\n\r\n        this.modelBaseUrl = this._buildUrl();\r\n    }\r\n\r\n    _buildUrl() {\r\n        return `/api${this.modelRequest}`;\r\n    }\r\n\r\n    _buildUrlWithParams(params, insertSlash) {\r\n        let url = this.modelBaseUrl + (insertSlash ? '/' : '');\r\n        if(params) {\r\n            url += '?';\r\n            Object.keys(params).forEach(key => {\r\n                url += `${key}=${params[key]}&`;\r\n            });\r\n        }\r\n        return url;\r\n    }\r\n\r\n    async doRequest(method, body, params) {\r\n        const url = this._buildUrlWithParams(params, method === 'POST');\r\n        const response = await fetch(url, {\r\n            method: method || 'GET',\r\n            body: body ? JSON.stringify(body) : undefined,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': ApiModel.authToken ? `Token ${ApiModel.authToken}` : undefined\r\n            }\r\n        });\r\n\r\n        if(response.ok) {\r\n            const json = response.status !== 204 ?\r\n                await response.json() : \r\n                { status: 'deleted' };\r\n            return json;\r\n        } else {\r\n            const json = await response.json();\r\n            console.log(json);\r\n            throw json;\r\n        }\r\n    }\r\n\r\n    async get(params) {\r\n        return await this.doRequest('GET', null, params);\r\n    }\r\n    async post(body, params) {\r\n        return await this.doRequest('POST', body, params);\r\n    }\r\n    async put(body, params) {\r\n        return await this.doRequest('PUT', body, params);\r\n    }\r\n    async delete(body, params) {\r\n        return this.doRequest('DELETE', body, params);\r\n    }\r\n\r\n    static setAuthToken(response) {\r\n        ApiModel.authToken = response.token;\r\n        ApiModel.currentUserId = response.user._id;\r\n        localStorage.setItem('authToken', ApiModel.authToken);\r\n        localStorage.setItem('currentUserId', ApiModel.currentUserId);\r\n    }\r\n    static clearAuthToken() {\r\n        delete ApiModel.authToken;\r\n        delete ApiModel.currentUserId;\r\n        localStorage.removeItem('authToken');\r\n        localStorage.removeItem('currentUserId');\r\n    }\r\n    static loadAuthToken() {\r\n        ApiModel.authToken = localStorage.getItem('authToken');\r\n        ApiModel.currentUserId = localStorage.getItem('currentUserId');\r\n    }\r\n\r\n    getModelRequest() {\r\n        throw new Error('This method must be implemented!');\r\n    }\r\n}\r\n\r\nApiModel.loadAuthToken();","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-25 my-auto mx-auto\"},[_c('label',[_vm._v(\" E-mail: \")]),_c('b-input',{staticClass:\"mb-2\",attrs:{\"type\":\"email\",\"placeholder\":\"Электронная почта\"},model:{value:(_vm.loginEmail),callback:function ($$v) {_vm.loginEmail=$$v},expression:\"loginEmail\"}}),_c('label',[_vm._v(\" Пароль: \")]),_c('b-input',{staticClass:\"mb-2\",attrs:{\"type\":\"password\",\"placeholder\":\"Пароль\"},model:{value:(_vm.loginPassword),callback:function ($$v) {_vm.loginPassword=$$v},expression:\"loginPassword\"}}),_c('div',{staticClass:\"d-flex\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\" Log In \")]),_c('a',{staticClass:\"ml-2\",attrs:{\"href\":\"/signup\"}},[_vm._v(\" Sign Up \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ApiModel } from '../ApiModel';\r\n\r\nexport class UsersModel extends ApiModel {\r\n    constructor(id) {\r\n        super();\r\n\r\n        this.id = id;\r\n\r\n        this.getAllUsers = this.getAllUsers.bind(this);\r\n        this.getUserById = this.getUserById.bind(this);\r\n        this.signupUser = this.signupUser.bind(this);\r\n        this.loginUser = this.loginUser.bind(this);\r\n\r\n        this.modelRequest = this.getModelRequest();\r\n        this.modelBaseUrl = this._buildUrl();\r\n    }\r\n\r\n    getModelRequest() {\r\n        let resultUrl = '/users';\r\n        if(this.id) {\r\n            resultUrl = `/users/${this.id}`;\r\n        }\r\n        return resultUrl;\r\n    }\r\n\r\n    async getAllUsers() {\r\n        return await this.get();\r\n    }\r\n    async getAllDoctors() {\r\n        const initialModelBaseUrl = this.modelBaseUrl;\r\n        this.modelBaseUrl += '/doctors';\r\n        const response = await this.get();\r\n        this.modelBaseUrl = initialModelBaseUrl;\r\n        return response;\r\n    }\r\n    async getUserById() {\r\n        return await this.get();\r\n    }\r\n\r\n    async signupUser(username, email, name, password) {\r\n        const initialModelBaseUrl = this.modelBaseUrl;\r\n        this.modelBaseUrl += '/signup';\r\n        const response = await this.post({\r\n            username,\r\n            email,\r\n            name,\r\n            password\r\n        });\r\n        this.modelBaseUrl = initialModelBaseUrl;\r\n        return response;\r\n    }\r\n    async loginUser(email, password) {\r\n        const initialModelBaseUrl = this.modelBaseUrl;\r\n        this.modelBaseUrl += '/login';\r\n        const response = await this.post({\r\n            email,\r\n            password\r\n        });\r\n        this.modelBaseUrl = initialModelBaseUrl;\r\n        return response;\r\n    }\r\n} ","<template>\r\n    <div\r\n        class=\"w-25 my-auto mx-auto\"\r\n    >\r\n        <label>\r\n            E-mail:\r\n        </label>\r\n        <b-input\r\n            type=\"email\"\r\n            placeholder=\"Электронная почта\"\r\n            v-model=\"loginEmail\"\r\n            class=\"mb-2\"\r\n        >\r\n        </b-input>\r\n\r\n        <label>\r\n            Пароль:\r\n        </label>\r\n        <b-input\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            v-model=\"loginPassword\"\r\n            class=\"mb-2\"\r\n        >\r\n        </b-input>\r\n\r\n        <div\r\n            class=\"d-flex\"\r\n        >\r\n            <b-button\r\n                variant=\"primary\"\r\n                @click=\"login\"\r\n            >\r\n                Log In\r\n            </b-button>\r\n            <a\r\n                class=\"ml-2\"\r\n                href=\"/signup\"\r\n            >\r\n                Sign Up\r\n            </a>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { UsersModel } from '../services/api/models/users.js';\r\n\r\nexport default {\r\n    name: \"LoginPage\",\r\n    data() {\r\n        return {\r\n            loginEmail: '',\r\n            loginPassword: '',\r\n\r\n            username: '',\r\n            email: '',\r\n            name: '',\r\n            password: ''\r\n        };\r\n    },\r\n    methods: {\r\n        async login() {\r\n            const usersModelInstance = new UsersModel();\r\n            try {\r\n                const response = await usersModelInstance.loginUser(this.loginEmail, this.loginPassword);\r\n                console.log(response);\r\n                UsersModel.setAuthToken(response);\r\n                this.$router.history.push('/appointments');\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n        async signup() {\r\n            const usersModelInstance = new UsersModel();\r\n            try {\r\n                const { username, email, name, password } = this;\r\n                const response = await usersModelInstance.signupUser(\r\n                    username, email, name, password\r\n                );\r\n                console.log(response);\r\n                UsersModel.setAuthToken(response);\r\n                this.$router.history.push('/appointments');\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                event.preventDefault();\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginPage.vue?vue&type=template&id=2c355dc2&scoped=true&\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c355dc2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-25 my-auto mx-auto\"},[_c('label',[_vm._v(\" Фамилия Имя Отчество: \")]),_c('b-input',{staticClass:\"mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"ФИО\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('label',[_vm._v(\" Имя пользователя: \")]),_c('b-input',{staticClass:\"mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Имя пользователя\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('label',[_vm._v(\" E-mail: \")]),_c('b-input',{staticClass:\"mb-2\",attrs:{\"type\":\"email\",\"placeholder\":\"Электронная почта\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('label',[_vm._v(\" Пароль: \")]),_c('b-input',{staticClass:\"mb-2\",attrs:{\"type\":\"password\",\"placeholder\":\"Пароль\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"d-flex\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.signup}},[_vm._v(\" Sign Up \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div\r\n        class=\"w-25 my-auto mx-auto\"\r\n    >\r\n        <label>\r\n            Фамилия Имя Отчество:\r\n        </label>\r\n        <b-input\r\n            type=\"text\"\r\n            placeholder=\"ФИО\"\r\n            v-model=\"name\"\r\n            class=\"mb-2\"\r\n        >\r\n        </b-input>\r\n\r\n        <label>\r\n            Имя пользователя:\r\n        </label>\r\n        <b-input\r\n            type=\"text\"\r\n            placeholder=\"Имя пользователя\"\r\n            v-model=\"username\"\r\n            class=\"mb-2\"\r\n        >\r\n        </b-input>\r\n\r\n        <label>\r\n            E-mail:\r\n        </label>\r\n        <b-input\r\n            type=\"email\"\r\n            placeholder=\"Электронная почта\"\r\n            v-model=\"email\"\r\n            class=\"mb-2\"\r\n        >\r\n        </b-input>\r\n\r\n        <label>\r\n            Пароль:\r\n        </label>\r\n        <b-input\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            v-model=\"password\"\r\n            class=\"mb-2\"\r\n        >\r\n        </b-input>\r\n\r\n        <div\r\n            class=\"d-flex\"\r\n        >\r\n            <b-button\r\n                variant=\"primary\"\r\n                @click=\"signup\"\r\n            >\r\n                Sign Up\r\n            </b-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { UsersModel } from '../services/api/models/users.js';\r\n\r\nexport default {\r\n    name: \"LoginPage\",\r\n    data() {\r\n        return {\r\n            username: '',\r\n            email: '',\r\n            name: '',\r\n            password: ''\r\n        };\r\n    },\r\n    methods: {\r\n        async signup() {\r\n            const usersModelInstance = new UsersModel();\r\n            try {\r\n                const response = await usersModelInstance.signupUser(\r\n                    this.username, this.email, this.name, this.password\r\n                );\r\n                console.log(response);\r\n                UsersModel.setAuthToken(response);\r\n                this.$router.history.push('/appointments');\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signup.vue?vue&type=template&id=77fb1193&scoped=true&\"\nimport script from \"./Signup.vue?vue&type=script&lang=js&\"\nexport * from \"./Signup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77fb1193\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user)?_c('div',{staticClass:\"d-flex\"},[_c('Profile',{attrs:{\"user\":_vm.user}}),_c('OwnAppointments',{attrs:{\"refreshTrigger\":_vm.refreshTrigger,\"isDoctor\":!!_vm.user.doctor}})],1):_vm._e(),(_vm.user)?_c('div',[(!_vm.user.doctor)?_c('CalendarAppointments',{on:{\"refresh-own-appointments\":_vm.refreshOwnAppointments}}):_vm._e(),(_vm.user.doctor)?_c('DoctorSchedule',{attrs:{\"doctorId\":_vm.user.doctor._id,\"doctorProfile\":_vm.user.doctor}}):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('div',{staticClass:\"p-4\"},[_c('h3',[_vm._v(_vm._s(_vm.user.name))]),_c('p',[_c('strong',[_vm._v(\"Логин пользователя:\")]),_vm._v(\" \"+_vm._s(_vm.user.username))]),_c('p',[_c('strong',[_vm._v(\"E-mail:\")]),_vm._v(\" \"+_vm._s(_vm.user.email))]),_c('p',[_c('strong',[_vm._v(\"ИК Медицинской Карты:\")]),_vm._v(\" \"+_vm._s(_vm.user._id))]),_c('p',[_c('strong',[_vm._v(\"Дата регистрации:\")]),_vm._v(\" \"+_vm._s((((new Date(_vm.user.createdAt)).getUTCDate()) + \".\" + ((new Date(_vm.user.createdAt)).getUTCMonth() + 1) + \".20\" + ((new Date(_vm.user.createdAt)).getYear() - 100) + \" \" + ((new Date(_vm.user.createdAt)).getUTCHours()) + \":\" + ((new Date(_vm.user.createdAt)).getUTCMinutes()))))])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div\r\n        v-if=\"user\"\r\n        class=\"p-4\"\r\n    >\r\n        <h3>{{ user.name }}</h3>\r\n\r\n        <p><strong>Логин пользователя:</strong> {{ user.username }}</p>\r\n        <p><strong>E-mail:</strong> {{ user.email }}</p>\r\n        <p><strong>ИК Медицинской Карты:</strong> {{ user._id }}</p>\r\n        <p><strong>Дата регистрации:</strong> {{`${(new Date(user.createdAt)).getUTCDate()}.${(new Date(user.createdAt)).getUTCMonth() + 1}.20${(new Date(user.createdAt)).getYear() - 100} ${(new Date(user.createdAt)).getUTCHours()}:${(new Date(user.createdAt)).getUTCMinutes()}`}}</p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Profile\",\r\n    props: {\r\n        user: Object\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=62b39336&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-4\"},[_c('table',{staticClass:\"table own-appoints-max-height\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\" # \")]),_c('th',[_vm._v(\" \"+_vm._s(!_vm.isDoctor ? 'Имя врача' : 'Имя клиента')+\" \")]),_c('th',[_vm._v(\" \"+_vm._s(!_vm.isDoctor ? 'Специальность врача' : 'ИД клиента')+\" \")]),_c('th',[_vm._v(\" Дата записи \")]),(_vm.isDoctor)?_c('th',[_vm._v(\" Удалить \")]):_vm._e()])]),_c('tbody',_vm._l((_vm.appointments),function(appointment,index){return _c('tr',{key:appointment._id},[_c('td',[_vm._v(\" \"+_vm._s(index + 1)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(!_vm.isDoctor ? appointment.doctorUser.name : appointment.clientProfile.name)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(!_vm.isDoctor ? appointment.doctorProfile.speciality : appointment.clientProfile._id)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(((appointment.date.getUTCDate()) + \".\" + (appointment.date.getUTCMonth() + 1) + \".20\" + (appointment.date.getYear() - 100) + \" \" + (appointment.date.getUTCHours()) + \":\" + (appointment.date.getUTCMinutes()) + \"0\"))+\" \")]),(_vm.isDoctor)?_c('td',{staticClass:\"cursor-hover\",on:{\"click\":function($event){return _vm.deleteAppointment(appointment._id)}}},[_vm._v(\" X \")]):_vm._e()])}),0)]),(!_vm.appointments.length)?_c('b-alert',{attrs:{\"show\":\"\"}},[_vm._v(\" Запланированные посещения врача отсутствуют \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ApiModel } from '../ApiModel.js';\r\n\r\nexport class AppointmentsModel extends ApiModel {\r\n    constructor(id) {\r\n        super();\r\n\r\n        this.id = id;\r\n\r\n        this.getAllAppointments = this.getAllAppointments.bind(this);\r\n        this.getAppointmentById = this.getAppointmentById.bind(this);\r\n        this.createAppointment = this.createAppointment.bind(this);\r\n        this.updateAppointment = this.updateAppointment.bind(this);\r\n        this.deleteAppointment = this.deleteAppointment.bind(this);\r\n        this.searchAppointments = this.searchAppointments.bind(this);\r\n\r\n        this.modelRequest = this.getModelRequest();\r\n        this.modelBaseUrl = this._buildUrl();\r\n    }\r\n\r\n    getModelRequest() {\r\n        let resultUrl = '/appointments';\r\n        if(this.id) {\r\n            resultUrl = `/appointments/${this.id}`;\r\n        }\r\n        return resultUrl;\r\n    }\r\n\r\n    async getAllAppointments() {\r\n        return await this.get();\r\n    }\r\n    async getAppointmentById() {\r\n        return await this.get();\r\n    }\r\n    /**\r\n     * \r\n     * @param {object} params\r\n     * @param {date} params.fromDate\r\n     * @param {date} params.toDate\r\n     * @param {string} params.client\r\n     * @param {string} params.doctor\r\n     * @param {string} params.time\r\n     */\r\n    async searchAppointments(params) {\r\n        const initialModelBaseUrl = this.modelBaseUrl;\r\n        this.modelBaseUrl += '/search';\r\n\r\n        const response = await this.get(params);\r\n\r\n        this.modelBaseUrl = initialModelBaseUrl;\r\n        return response;\r\n    }\r\n\r\n    async createAppointment(client, doctor, time, date) {\r\n        return await this.post({\r\n            client,\r\n            doctor,\r\n            time,\r\n            date\r\n        });\r\n    }\r\n    async updateAppointment(client, doctor, time, date) {\r\n        if(!this.id) {\r\n            throw new Error('No id for appointment specified');\r\n        }\r\n        return await this.post({\r\n            client,\r\n            doctor,\r\n            time,\r\n            date\r\n        });\r\n    }\r\n\r\n    async deleteAppointment() {\r\n        if(!this.id) {\r\n            throw new Error('No id for appointment specified');\r\n        }\r\n        return await this.delete();\r\n    }\r\n}","<template>\r\n    <div\r\n        class=\"p-4\"\r\n    >\r\n        <table\r\n            class=\"table own-appoints-max-height\"\r\n        >\r\n            <thead>\r\n                <tr>\r\n                    <th>\r\n                        #\r\n                    </th>\r\n                    <th>\r\n                        {{!isDoctor ? 'Имя врача' : 'Имя клиента'}}\r\n                    </th>\r\n                    <th>\r\n                        {{!isDoctor ? 'Специальность врача' : 'ИД клиента'}}\r\n                    </th>\r\n                    <th>\r\n                        Дата записи\r\n                    </th>\r\n                    <th\r\n                        v-if=\"isDoctor\"\r\n                    >\r\n                        Удалить\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n                <tr\r\n                    v-for=\"(appointment, index) in appointments\"\r\n                    :key=\"appointment._id\"\r\n                >\r\n                    <td>\r\n                        {{ index + 1 }}\r\n                    </td>\r\n                    <td>\r\n                        {{ !isDoctor ? appointment.doctorUser.name : appointment.clientProfile.name }}\r\n                    </td>\r\n                    <td>\r\n                        {{ !isDoctor ? appointment.doctorProfile.speciality : appointment.clientProfile._id}}\r\n                    </td>\r\n                    <td>\r\n                        {{ `${appointment.date.getUTCDate()}.${appointment.date.getUTCMonth() + 1}.20${appointment.date.getYear() - 100} ${appointment.date.getUTCHours()}:${appointment.date.getUTCMinutes()}0` }}\r\n                    </td>\r\n                    <td\r\n                        v-if=\"isDoctor\"\r\n                        @click=\"deleteAppointment(appointment._id)\"\r\n                        class=\"cursor-hover\"\r\n                    >\r\n                        X\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <b-alert\r\n            v-if=\"!appointments.length\"\r\n            show\r\n        >\r\n            Запланированные посещения врача отсутствуют\r\n        </b-alert>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { AppointmentsModel } from '../services/api/models/appointments.js';\r\nimport { UsersModel } from '../services/api/models/users.js';\r\n\r\nexport default {\r\n    name: 'OwnAppointments',\r\n    props: {\r\n        refreshTrigger: Boolean,\r\n        isDoctor: Boolean\r\n    },\r\n    data() {\r\n        return {\r\n            appointments: []\r\n        }\r\n    },\r\n    async created() {\r\n        await this.loadOwnAppointments();\r\n    },\r\n    watch: {\r\n        refreshTrigger: async function() {\r\n            await this.loadOwnAppointments();\r\n        }\r\n    },\r\n    methods: {\r\n        async loadOwnAppointments() {\r\n            const appointmentsModelInstance = new AppointmentsModel();\r\n            const searchObject = {\r\n                fromDate: (new Date(Date.now())).toISOString()\r\n            };\r\n            if(this.isDoctor) {\r\n                searchObject.doctor = UsersModel.currentUserId;\r\n            } else {\r\n                searchObject.client = UsersModel.currentUserId;\r\n            }\r\n\r\n            try {\r\n                const response = await appointmentsModelInstance.searchAppointments(searchObject);\r\n                this.appointments = response.appointments.map(appoint => {\r\n                    const ap = {\r\n                        ...appoint\r\n                    };\r\n                    ap.date = new Date(appoint.date);\r\n                    return ap;\r\n                });\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n        async deleteAppointment(id) {\r\n            const appointmentsModelInstance = new AppointmentsModel(id);\r\n            const index = this.appointments.findIndex(appoint => appoint._id = id);\r\n            this.appointments.splice(index, 1);\r\n            console.log(this.appointments);\r\n\r\n            try {\r\n                const response = await appointmentsModelInstance.deleteAppointment();\r\n                \r\n                console.log(response);\r\n                await this.loadOwnAppointments();\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .own-appoints-max-height {\r\n        max-height: 35rem;\r\n        overflow: auto;\r\n    }\r\n\r\n    .cursor-hover {\r\n        cursor: pointer;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnAppointments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnAppointments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OwnAppointments.vue?vue&type=template&id=edc53856&scoped=true&\"\nimport script from \"./OwnAppointments.vue?vue&type=script&lang=js&\"\nexport * from \"./OwnAppointments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OwnAppointments.vue?vue&type=style&index=0&id=edc53856&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"edc53856\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.times.length)?_c('table',{staticClass:\"table table-striped table-hover\"},[_vm._m(0),_c('tbody',_vm._l((Object.keys(_vm.doctorProfile.dayTimes)),function(day){return _c('td',{key:day},[_c('table',{staticClass:\"table table-hover\"},[_c('tbody',[_vm._l((_vm.dayTimes[day]),function(timeId,timeIndex){return _c('tr',{key:timeId,staticClass:\"w-100 table-row-pointer\",attrs:{\"scope\":\"row\"}},[_c('td',[_vm._v(_vm._s(_vm.formattedTimes[timeId].hours)+\":\"+_vm._s(_vm.formattedTimes[timeId].minutes))]),_c('td',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){return _vm.deleteDayTime(day, timeIndex)}}},[_vm._v(\" X \")])])}),_c('tr',{staticClass:\"w-100\"},[_c('b-form-select',{staticClass:\"mt-3\",attrs:{\"options\":_vm.timesOptions[day]},model:{value:(_vm.selectedTimes[day]),callback:function ($$v) {_vm.$set(_vm.selectedTimes, day, $$v)},expression:\"selectedTimes[day]\"}}),_c('b-button',{staticClass:\"mt-1\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.addDayTime(day)}}},[_vm._v(\" + Time \")])],1)],2)])])}),0)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-dark\"},[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Понедельник \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Вторник \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Среда \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Четверг \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Пятница \")])])])}]\n\nexport { render, staticRenderFns }","import { ApiModel } from '../ApiModel.js';\r\n\r\nexport class TimesModel extends ApiModel {\r\n    constructor(id) {\r\n        super();\r\n\r\n        this.id = id;\r\n\r\n        this.getllTimes = this.getAllTimes.bind(this);\r\n\r\n        this.modelRequest = this.getModelRequest();\r\n        this.modelBaseUrl = this._buildUrl();\r\n    }\r\n\r\n    getModelRequest() {\r\n        let resultUrl = '/times';\r\n        if(this.id) {\r\n            resultUrl = `/times/${this.id}`;\r\n        }\r\n        return resultUrl;\r\n    }\r\n\r\n    async getAllTimes() {\r\n        return await this.get();\r\n    }\r\n}","import { ApiModel } from '../ApiModel.js';\r\n\r\nexport class DoctorsModel extends ApiModel {\r\n    constructor(id) {\r\n        super();\r\n\r\n        this.id = id;\r\n\r\n        this.updateDoctorProfile = this.updateDoctorProfile.bind(this);\r\n\r\n        this.modelRequest = this.getModelRequest();\r\n        this.modelBaseUrl = this._buildUrl();\r\n    }\r\n\r\n    getModelRequest() {\r\n        let resultUrl = '/doctors';\r\n        if(this.id) {\r\n            resultUrl = `/doctors/${this.id}`;\r\n        }\r\n        return resultUrl;\r\n    }\r\n\r\n    async updateDoctorProfile(updateDoctorProfile) {\r\n        await this.put(updateDoctorProfile);\r\n    }\r\n}","<template>\r\n    <div>\r\n        <table\r\n            v-if=\"times.length\"\r\n            class=\"table table-striped table-hover\"\r\n        >\r\n            <thead\r\n                class=\"thead-dark\"\r\n            >\r\n                <tr>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Понедельник\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Вторник\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Среда\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Четверг\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Пятница\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <td\r\n                    v-for=\"day in Object.keys(doctorProfile.dayTimes)\"\r\n                    :key=\"day\"\r\n                >\r\n                    <table\r\n                        class=\"table table-hover\"\r\n                    >\r\n                        <tbody>\r\n                            <tr\r\n                                v-for=\"(timeId, timeIndex) in dayTimes[day]\"\r\n                                :key=\"timeId\"\r\n                                scope=\"row\"\r\n                                class=\"w-100 table-row-pointer\"\r\n                            >\r\n                                <td>{{ formattedTimes[timeId].hours }}:{{ formattedTimes[timeId].minutes }}</td>\r\n                                <td \r\n                                    @click=\"deleteDayTime(day, timeIndex)\"\r\n                                    class=\"cursor-pointer\"\r\n                                > X </td>\r\n                            </tr>\r\n                            <tr\r\n                                class=\"w-100\"\r\n                            >\r\n                                <b-form-select\r\n                                    v-model=\"selectedTimes[day]\"\r\n                                    :options=\"timesOptions[day]\"\r\n                                    class=\"mt-3\"\r\n                                >\r\n                                </b-form-select>\r\n                                <b-button\r\n                                    variant=\"success\"\r\n                                    @click=\"addDayTime(day)\"\r\n                                    class=\"mt-1\"\r\n                                >\r\n                                    + Time\r\n                                </b-button>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </td>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { TimesModel } from '../services/api/models/times.js';\r\nimport { DoctorsModel } from '../services/api/models/doctors.js';\r\n\r\nexport default {\r\n    name: \"DoctorSchedule\",\r\n    props: {\r\n        doctorId: String,\r\n        doctorProfile: Object\r\n    },\r\n    data() {\r\n        return {\r\n            dayTimes: {\r\n                monday: [],\r\n                tuesday: [],\r\n                wednesday: [],\r\n                thursday: [],\r\n                friday: []\r\n            },\r\n\r\n            times: [],\r\n            selectedTimes: {\r\n                monday: null,\r\n                tuesday: null,\r\n                wednesday: null,\r\n                thursday: null,\r\n                friday: null\r\n            }\r\n        }\r\n    },\r\n    async created() {\r\n        try {\r\n            const timesModelInstance = new TimesModel();\r\n            const response = await timesModelInstance.getAllTimes();\r\n            this.times = response.times;\r\n        } catch(error) {\r\n            console.log(error);\r\n        }\r\n    },\r\n    mounted() {\r\n        const dayTimesCopy = Object.assign({}, this.doctorProfile.dayTimes);\r\n        this.dayTimes = dayTimesCopy;\r\n    },\r\n    computed: {\r\n        formattedTimes() {\r\n            const resultTimes = {};\r\n            this.times.forEach((time) => {\r\n                const timeObject = {\r\n                    hours: time.time.split(':')[0],\r\n                    minutes: time.time.split(':')[1]\r\n                };\r\n                resultTimes[time._id] = timeObject;\r\n            });\r\n            return resultTimes;\r\n        },\r\n        timesOptions() {\r\n            const timesOptions = {};\r\n            Object.keys(this.dayTimes).forEach(day => {\r\n                const availableTimes = this.times.filter(time => {\r\n                    const equalTime = this.dayTimes[day].find(dayTime => time._id === dayTime); \r\n                    return !equalTime;\r\n                });\r\n                const formattedAvailableTimes = availableTimes.map(time => {\r\n                    return { \r\n                        text: time.time,\r\n                        value: time._id\r\n                    };\r\n                });\r\n                timesOptions[day] = formattedAvailableTimes;\r\n            });\r\n            return timesOptions;\r\n        }\r\n    },\r\n    methods: {\r\n        async deleteDayTime(day, timeIndex) {\r\n            try {\r\n                this.dayTimes[day].splice(timeIndex, 1);\r\n                const doctorsModelInstance = new DoctorsModel(this.doctorId);\r\n                const response = await doctorsModelInstance.updateDoctorProfile({ dayTimes: this.dayTimes });\r\n                console.log(response);\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n        async addDayTime(day) {\r\n            try {\r\n                this.dayTimes[day].push(this.selectedTimes[day]);\r\n                const doctorsModelInstance = new DoctorsModel(this.doctorId);\r\n                const response = await doctorsModelInstance.updateDoctorProfile({ dayTimes: this.dayTimes });\r\n                console.log(response);\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DoctorSchedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DoctorSchedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DoctorSchedule.vue?vue&type=template&id=ed307d10&\"\nimport script from \"./DoctorSchedule.vue?vue&type=script&lang=js&\"\nexport * from \"./DoctorSchedule.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('b-button',{staticClass:\"col-2\",on:{\"click\":_vm.loadNextWeekDatesAndAppointments}},[_vm._v(\" Следующая неделя \")]),_c('b-form-select',{staticClass:\"col-2 ml-5\",attrs:{\"options\":_vm.doctorsOptions},on:{\"change\":_vm.refreshData},model:{value:(_vm.selectedDoctor),callback:function ($$v) {_vm.selectedDoctor=$$v},expression:\"selectedDoctor\"}}),_c('div',{staticClass:\"col-3 d-flex ml-2\"},[_c('b-input',{attrs:{\"id\":\"selectedDateInput\",\"disabled\":\"\"},model:{value:(_vm.selectedDateText),callback:function ($$v) {_vm.selectedDateText=$$v},expression:\"selectedDateText\"}})],1),_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":!_vm.selectedDate || !_vm.selectedDoctor},on:{\"click\":_vm.submitAppointment}},[_vm._v(\" + Записаться на приём \")])],1),(_vm.times.length)?_c('AppointmentsTable',{staticClass:\"mt-2 row\",attrs:{\"fromDate\":_vm.fromDate,\"toDate\":_vm.toDate,\"times\":_vm.times,\"appointments\":_vm.appointments,\"doctorProfile\":_vm.selectedDoctorProfile},on:{\"select-date\":function (time) { this$1.selectedDate = time }}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticClass:\"table table-striped table-hover\"},[_c('thead',{staticClass:\"thead-dark\"},[(Object.keys(_vm.tableHeaderDays).length)?_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Понедельник \"+_vm._s(_vm.tableHeaderDays['monday'])+\" \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Вторник \"+_vm._s(_vm.tableHeaderDays['tuesday'])+\" \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Среда \"+_vm._s(_vm.tableHeaderDays['wednesday'])+\" \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Четверг \"+_vm._s(_vm.tableHeaderDays['thursday'])+\" \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" Пятница \"+_vm._s(_vm.tableHeaderDays['friday'])+\" \")])]):_vm._e()]),_c('tbody',_vm._l((Object.keys(_vm.filteredDayTimes)),function(day){return _c('td',{key:day},[_c('table',{staticClass:\"table table-hover\"},[_c('tbody',_vm._l((_vm.filteredDayTimes[day]),function(time){return _c('tr',{key:time.toISOString(),staticClass:\"w-100 table-row-pointer\",attrs:{\"scope\":\"row\"},on:{\"click\":function($event){return _vm.$emit('select-date', time)}}},[_vm._v(\" \"+_vm._s(time.getUTCHours())+\":\"+_vm._s(time.getUTCMinutes())+\"0 \")])}),0)])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <table\r\n            class=\"table table-striped table-hover\"\r\n        >\r\n            <thead\r\n                class=\"thead-dark\"\r\n            >\r\n                <tr\r\n                    v-if=\"Object.keys(tableHeaderDays).length\"\r\n                >\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Понедельник {{ tableHeaderDays['monday'] }}\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Вторник {{ tableHeaderDays['tuesday'] }}\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Среда {{ tableHeaderDays['wednesday'] }}\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Четверг {{ tableHeaderDays['thursday'] }}\r\n                    </th>\r\n                    <th\r\n                        scope=\"col\"\r\n                    >\r\n                        Пятница {{ tableHeaderDays['friday'] }}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <td\r\n                    v-for=\"day in Object.keys(filteredDayTimes)\"\r\n                    :key=\"day\"\r\n                >\r\n                    <table\r\n                        class=\"table table-hover\"\r\n                    >\r\n                        <tbody>\r\n                            <tr\r\n                                v-for=\"time in filteredDayTimes[day]\"\r\n                                :key=\"time.toISOString()\"\r\n                                scope=\"row\"\r\n                                class=\"w-100 table-row-pointer\"\r\n                                @click=\"$emit('select-date', time)\"\r\n                            >\r\n                                {{ time.getUTCHours() }}:{{ time.getUTCMinutes() }}0\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </td>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nconst daysOfWeek = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];\r\n\r\nexport default {\r\n    name: 'AppointmentsTable',\r\n    props: {\r\n        times: Array,\r\n        appointments: Array,\r\n\r\n        fromDate: Date,\r\n        toDate: Date,\r\n\r\n        doctorProfile: Object\r\n    },\r\n    data() {\r\n        return {\r\n            dayTimes: {\r\n                monday: [],\r\n                tuesday: [],\r\n                wednesday: [],\r\n                thursday: [],\r\n                friday: []\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.formatDayTimes();\r\n    },\r\n    watch: {\r\n        doctorProfile: function() {\r\n            this.formatDayTimes();\r\n        },\r\n        fromDate: function() {\r\n            this.formatDayTimes();\r\n        },\r\n        toDate: function() {\r\n            this.formatDayTimes();\r\n        }\r\n    },\r\n    computed: {\r\n        filteredDayTimes() {\r\n            const filteredDayTimes = Object.assign({}, this.dayTimes);\r\n            for(let day of Object.keys(filteredDayTimes)) {\r\n                filteredDayTimes[day] = filteredDayTimes[day].filter(dayTime => {\r\n                    return !(this.appointments.find(appoint => {\r\n                        const leftCompareDate = new Date(appoint.date);\r\n                        console.log(leftCompareDate.toISOString());\r\n                        const rightCompareDate = new Date(dayTime.toISOString());\r\n                        console.log(rightCompareDate.toISOString());\r\n                        const areDatesEqual = leftCompareDate.getTime() ===\r\n                            rightCompareDate.getTime();\r\n                        return areDatesEqual;\r\n                    }));\r\n                });\r\n            }\r\n            return filteredDayTimes;\r\n        },\r\n        tableHeaderDays() {\r\n            const headerItems = {};\r\n            if(this.dayTimes.monday.length > 0) {\r\n                for(let [day, date] of Object.entries(this.dayTimes)) {\r\n                    const dateToSet = new Date(date[0].toISOString());\r\n                    headerItems[day] = `${dateToSet.getDate()}/${dateToSet.getMonth() + 1}`;\r\n                }\r\n            }\r\n            return headerItems;\r\n        }\r\n    },\r\n    methods: {\r\n        formatDayTimes() {\r\n            const getNextDayDate = (startDate) => {\r\n                const nextDayDate = new Date();\r\n                nextDayDate.setDate(startDate.getDate() + 1);\r\n                nextDayDate.setUTCHours(0, 0, 0, 0);\r\n                return nextDayDate;\r\n            }\r\n\r\n            const daysOfWeekDates = {};\r\n            daysOfWeekDates[daysOfWeek[0]] = this.fromDate;\r\n            for(let i = 1; i < daysOfWeek.length; i++) {\r\n                daysOfWeekDates[daysOfWeek[i]] = \r\n                    getNextDayDate(daysOfWeekDates[daysOfWeek[i - 1]]);\r\n            }\r\n\r\n            const dayTimes = {};\r\n            for(let [day, date] of Object.entries(daysOfWeekDates)) {\r\n                let currentDayDates = this.times;\r\n                if(this.doctorProfile) {\r\n                    currentDayDates = this.times.filter(time => {\r\n                        return this.doctorProfile.dayTimes[day].find(dayTime => {\r\n                            return time._id === dayTime;\r\n                        });\r\n                    })\r\n                }\r\n\r\n                dayTimes[day] = currentDayDates.map(timeEntry => {\r\n                    let [ hours, minutes ] = timeEntry.time.split(':');\r\n                    hours = parseInt(hours, 10);\r\n                    minutes = parseInt(minutes, 10);\r\n\r\n                    const dateCopy = new Date(date);\r\n                    dateCopy.setUTCHours(hours, minutes, 0, 0);\r\n                    return dateCopy;\r\n                }); \r\n            }\r\n            this.dayTimes = dayTimes;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.table-row-pointer {\r\n    cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppointmentsTable.vue?vue&type=template&id=183fcaa5&scoped=true&\"\nimport script from \"./AppointmentsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AppointmentsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppointmentsTable.vue?vue&type=style&index=0&id=183fcaa5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"183fcaa5\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div\r\n        class=\"container-fluid\"\r\n    >\r\n        <div\r\n            class=\"row\"\r\n        >\r\n            <b-button\r\n                class=\"col-2\"\r\n                @click=\"loadNextWeekDatesAndAppointments\"\r\n            >\r\n                Следующая неделя \r\n            </b-button>\r\n\r\n            <b-form-select\r\n                :options=\"doctorsOptions\"\r\n                v-model=\"selectedDoctor\"\r\n                class=\"col-2 ml-5\"\r\n                @change=\"refreshData\"\r\n            >\r\n            </b-form-select>\r\n\r\n            <div\r\n                class=\"col-3 d-flex ml-2\"\r\n            >\r\n                <b-input\r\n                    id=\"selectedDateInput\"\r\n                    v-model=\"selectedDateText\"\r\n                    disabled\r\n                >\r\n                </b-input>\r\n            </div>\r\n\r\n            <b-button\r\n                variant=\"primary\"\r\n                @click=\"submitAppointment\"\r\n                :disabled=\"!selectedDate || !selectedDoctor\"\r\n            >\r\n                + Записаться на приём\r\n            </b-button>\r\n        </div>\r\n        \r\n        <AppointmentsTable\r\n            v-if=\"times.length\"\r\n            class=\"mt-2 row\"\r\n\r\n            @select-date=\"(time) => { this.selectedDate = time }\"\r\n\r\n            :fromDate=\"fromDate\"\r\n            :toDate=\"toDate\"\r\n\r\n            :times=\"times\"\r\n            :appointments=\"appointments\"\r\n            \r\n            :doctorProfile=\"selectedDoctorProfile\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport AppointmentsTable from './AppointmentsTable.vue';\r\n\r\nimport { AppointmentsModel } from '../services/api/models/appointments.js';\r\nimport { UsersModel } from '../services/api/models/users.js';\r\nimport { TimesModel } from '../services/api/models/times.js';\r\n\r\nexport default {\r\n    name: 'CalendarAppointments',\r\n    components: {\r\n        AppointmentsTable\r\n    },\r\n    data() {\r\n        return {\r\n            times: [],\r\n            doctors: [],\r\n            appointments: [],\r\n\r\n            doctorsOptions: [],\r\n\r\n            fromDate: null,\r\n            toDate: null,\r\n            selectedDoctor: null,\r\n\r\n            selectedDate: null,\r\n\r\n            weekDate: new Date()\r\n        }\r\n    },\r\n    async created() {\r\n        this.setFromToDates(this.weekDate);\r\n\r\n        await this.loadTimes();\r\n        await this.loadDoctors();\r\n        await this.loadAppointments();\r\n    },\r\n    computed: {\r\n        selectedDateText() {\r\n            if(this.selectedDate) {\r\n                return `${this.selectedDate.getUTCDate()}.${this.selectedDate.getUTCMonth() + 1}.20${this.selectedDate.getYear() - 100} ${this.selectedDate.getUTCHours()}:${this.selectedDate.getUTCMinutes()}0`; \r\n            } else {\r\n                return 'Дата посещения не выбрана...';\r\n            }\r\n        },\r\n        selectedDoctorProfile() {\r\n            const selectedDoctorUser = this.doctors.find(doctor => {\r\n                return doctor._id === this.selectedDoctor;\r\n            });\r\n            return selectedDoctorUser.doctor;\r\n        }\r\n    },\r\n    methods: {\r\n        async loadNextWeekDatesAndAppointments() {\r\n            const nextWeekDate = new Date();\r\n            nextWeekDate.setDate(this.weekDate.getDate() + 7);\r\n            nextWeekDate.setUTCHours(0, 0, 0, 0);\r\n            this.weekDate = nextWeekDate;\r\n\r\n            this.setFromToDates(nextWeekDate);\r\n            await this.loadAppointments();\r\n        },\r\n        /** Sets Monday and Friday date from the passed one */\r\n        setFromToDates(dateParam) {\r\n            const currentDay = dateParam.getDay();\r\n            const difference = dateParam.getDate() - currentDay +\r\n                (currentDay === 0 ? -6 : 1);\r\n\r\n            const fromDate = new Date(dateParam.setDate(difference));\r\n            fromDate.setUTCHours(0, 0, 0, 0);\r\n            this.fromDate = fromDate;\r\n\r\n            const toDate = new Date();\r\n            toDate.setDate(fromDate.getDate() + 4);\r\n            toDate.setUTCHours(0, 0, 0, 0);\r\n            this.toDate = toDate; \r\n        },\r\n\r\n        async loadTimes() {\r\n            const timesModelInstance = new TimesModel();\r\n            try {\r\n                const response = await timesModelInstance.getllTimes();\r\n                this.times = response.times;\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n        async loadDoctors() {\r\n            const usersModelInstance = new UsersModel();\r\n            try {\r\n                const response = await usersModelInstance.getAllDoctors();\r\n                this.doctors = response.doctors;\r\n                this.doctorsOptions = response.doctors.map(doctor => {\r\n                    return {\r\n                        text: doctor.name,\r\n                        value: doctor._id\r\n                    }\r\n                });\r\n                this.selectedDoctor = response.doctors[0]._id || null;\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n        async loadAppointments() {\r\n            const appointmentsModelInstance = new AppointmentsModel();\r\n            const searchObject = {};\r\n            if(this.fromDate) {\r\n                searchObject.fromDate = this.fromDate.toISOString();\r\n            }\r\n            if(this.selectedDoctor) {\r\n                searchObject.doctor = this.selectedDoctor;\r\n            }\r\n            \r\n            try {\r\n                const response = await appointmentsModelInstance.searchAppointments(searchObject);\r\n                this.appointments = response.appointments;\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n\r\n\r\n        /** Adds appointment */\r\n        async submitAppointment() {\r\n            try {\r\n                const selectedTime = this.times.find(time => {\r\n                    const timeString = this.selectedDate.toISOString().split('T')[1];\r\n                    const pureTimeString = timeString.split(':')[0] + ':' + timeString.split(':')[1];\r\n                    return time.time === pureTimeString;\r\n                })\r\n                const appointmentsModelInstance = new AppointmentsModel();\r\n                const response = await appointmentsModelInstance.createAppointment(\r\n                    UsersModel.currentUserId,\r\n                    this.selectedDoctor,\r\n                    selectedTime._id,\r\n                    this.selectedDate.toISOString()\r\n                );\r\n                console.log(response);\r\n                await this.refreshData();\r\n                this.$emit('refresh-own-appointments');\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n\r\n        async refreshData() {\r\n            console.log('im here');\r\n            this.setFromToDates(this.weekDate);\r\n            await this.loadAppointments();\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarAppointments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarAppointments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarAppointments.vue?vue&type=template&id=1722a30a&\"\nimport script from \"./CalendarAppointments.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarAppointments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div\r\n            v-if=\"user\"\r\n            class=\"d-flex\"\r\n        >\r\n            <Profile\r\n                :user=\"user\"/>\r\n            <OwnAppointments\r\n                :refreshTrigger=\"refreshTrigger\"\r\n                :isDoctor=\"!!user.doctor\"/>\r\n        </div>\r\n\r\n        <div\r\n            v-if=\"user\"\r\n        >\r\n            <CalendarAppointments\r\n                @refresh-own-appointments=\"refreshOwnAppointments\"\r\n                v-if=\"!user.doctor\"/>\r\n            <DoctorSchedule\r\n                v-if=\"user.doctor\"\r\n                :doctorId=\"user.doctor._id\"\r\n                :doctorProfile=\"user.doctor\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { UsersModel } from '../services/api/models/users.js';\r\n\r\nimport Profile from './Profile.vue';\r\nimport OwnAppointments from './OwnAppointments.vue';\r\n\r\nimport DoctorSchedule from './DoctorSchedule.vue';\r\nimport CalendarAppointments from './CalendarAppointments.vue';\r\n\r\nexport default {\r\n    name: 'AppointmentsPage',\r\n    components: {\r\n        Profile,\r\n        OwnAppointments,\r\n        CalendarAppointments,\r\n        DoctorSchedule\r\n    },\r\n    data() {\r\n        return {\r\n            user: null,\r\n            refreshTrigger: false\r\n        }\r\n    },\r\n    async created() {\r\n        await this.loadUserInfo();\r\n    },\r\n    methods: {\r\n        async loadUserInfo() {\r\n            try {\r\n                const userModelInstance = new UsersModel(UsersModel.currentUserId);\r\n                const response = await userModelInstance.getUserById();\r\n                this.user = response.user;\r\n                if(response.doctor) {\r\n                    this.user.doctor = response.doctor;\r\n                }\r\n            } catch(error) {\r\n                console.log('im here' + error);\r\n                let errors = '';\r\n                if(error.message) {\r\n                    errors = error.message;\r\n                }\r\n                if(error.errors) {\r\n                    error.errors.forEach(err => {\r\n                        errors += err.msg + '';\r\n                    });\r\n                }\r\n                console.log(errors);\r\n                window.alert('Ошибка:' + errors);\r\n            }\r\n        },\r\n        refreshOwnAppointments() {\r\n            this.refreshTrigger = !this.refreshTrigger;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppointmentsPage.vue?vue&type=template&id=4608e1d4&scoped=true&\"\nimport script from \"./AppointmentsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./AppointmentsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4608e1d4\",\n  null\n  \n)\n\nexport default component.exports","import { ApiModel } from './services/api/ApiModel.js';\r\n\r\nimport LoginPage from './components/LoginPage.vue';\r\nimport Signup from './components/Signup.vue';\r\nimport AppointmentsPage from './components/AppointmentsPage.vue';\r\n\r\nexport default [\r\n    {\r\n        path: '/', redirect: () => {\r\n            if (ApiModel.currentUserId) {\r\n                return { name: 'appointments' };\r\n            } else {\r\n                return { name: 'login'};\r\n            }\r\n        }\r\n    },\r\n\r\n    {\r\n        path: '/appointments', component: AppointmentsPage, name: 'appointments', meta: {\r\n            public: true\r\n        }\r\n    },\r\n    { path: '/login', component: LoginPage, name: 'login' },\r\n    { path: '/signup', component: Signup, name: 'signup' }\r\n];","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-navbar',{attrs:{\"type\":\"dark\",\"variant\":\"info\"}},[_c('b-navbar-brand',{attrs:{\"href\":\"#\"}},[_vm._v(\"Харьковская городская поликлиника №3\")]),_c('b-navbar-nav',{staticClass:\"ml-3\"},[_c('b-nav-item',{attrs:{\"href\":\"/appointments\"}},[_vm._v(\"Записи посещений\")])],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-item',{staticClass:\"ml-auto\",attrs:{\"href\":\"/signup\"}},[_vm._v(\"Регистрация\")]),(!_vm.isUser)?_c('b-nav-item',{on:{\"click\":_vm.logout}},[_vm._v(\"Выход из аккаунта\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-navbar type=\"dark\" variant=\"info\">\r\n        <b-navbar-brand href=\"#\">Харьковская городская поликлиника №3</b-navbar-brand>\r\n        <b-navbar-nav\r\n            class=\"ml-3\"\r\n        >\r\n            <b-nav-item href=\"/appointments\">Записи посещений</b-nav-item>\r\n        </b-navbar-nav>\r\n\r\n        <b-navbar-nav\r\n            class=\"ml-auto\"\r\n        >\r\n            <b-nav-item href=\"/signup\" class=\"ml-auto\">Регистрация</b-nav-item>\r\n            <b-nav-item @click=\"logout\" v-if=\"!isUser\">Выход из аккаунта</b-nav-item>\r\n        </b-navbar-nav>\r\n    </b-navbar>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { ApiModel } from '../services/api/ApiModel.js';\r\n\r\nexport default {\r\n    name: \"Header\",\r\n    computed: {\r\n        isUser() {\r\n            console.log(this.$router.currentRoute.path);\r\n            return this.$router.currentRoute.path === '/login';\r\n        }\r\n    },\r\n    methods: {\r\n        logout() {\r\n            ApiModel.clearAuthToken();\r\n            this.$router.history.push('/');\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=4c86f3b5&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c86f3b5\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <b-container fluid class=\"h-100 d-flex flex-column px-0\">\n        <Header/>\n        <router-view/>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport VueRouter from 'vue-router';\nimport routes from './routes.js';\n\nimport Header from './components/Header';\n\nconst router = new VueRouter({\n    routes,\n    mode: \"history\"\n});\n\nexport default {\n  name: 'App',\n  components: {\n      Header\n  },\n  router\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  height: 100vh;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=27333d78&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport VueRouter from 'vue-router'\nimport { BootstrapVue } from 'bootstrap-vue'\n\nimport './styles/global.css';\n\nVue.use(BootstrapVue);\nVue.use(VueRouter);\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsTable.vue?vue&type=style&index=0&id=183fcaa5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsTable.vue?vue&type=style&index=0&id=183fcaa5&scoped=true&lang=css&\""],"sourceRoot":""}